# Trunk configuration for agentpdf-web
# Run: trunk serve (dev) or trunk build --release (prod)

[build]
# Path to the input HTML file
target = "www/index.html"
# Output directory for build artifacts
dist = "www/dist"
# Disable wasm-opt (fails with bulk memory operations)
no_wasm_opt = true

[watch]
# Watch the wasm source and www directory
watch = ["wasm/src", "www"]
ignore = ["www/dist", "www/pkg"]

[serve]
# Development server port
port = 8080
# Open browser on start
open = false

[[hooks]]
# Copy static JS files to dist
stage = "post_build"
command = "sh"
command_arguments = ["-c", "cp -r www/js www/dist/ 2>/dev/null || true"]

[[hooks]]
# Copy landing pages to dist
stage = "post_build"
command = "sh"
command_arguments = ["-c", "cp www/tampa.html www/dist/ 2>/dev/null || true"]
